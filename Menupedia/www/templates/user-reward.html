<ion-view view-title="Reward">
	<style>
		.qr-code{
			margin: 0 auto;
			width:60vw;
			height:60vw;
		}
		.reward-card {
			margin: 0 auto;
			width:90vw;
			height: 12vh;
			
			position: relative;
			background: #393734;
			margin-top:20px;
			font-family: Champagne;
			color:#EAC670;
		}
		
		.reward-card .reward_img{
			position: absolute;
			height:9vh;
			width:9vh;
			top:-10px;
			left:10px;
			-webkit-box-shadow: 6px 7px 18px -7px #EAC670;
			-moz-box-shadow: 6px 7px 18px -7px #EAC670;
			box-shadow: 6px 7px 18px -7px rgba(245, 112, 95, 0.87);
		}
		.reward-title{
			padding-top: 5px;
			font-size: 1.3em;
			margin-bottom: 1vh;
		}
		.reward-card .reward-content{
			position: absolute;
			top:0px;
			right:0;
			width:60vw;
			height:100%;
			
		}
		.reward-card .use{
			text-align: center;
			position: absolute;
			bottom: 5px;
			background: #EAC670;
			width:20vw;
			right:5px;
			padding:5px;
			color:black;		
		}
		.reward-card .rest{
			text-align: center;
			position: absolute;
			right:22vw;
			bottom: 5px;
			background: #EAC670;
			width:20vw;
			padding:5px;
			color:black;	
		}
		.reveal{
			padding:5px;
			font-size: 16px;
			background: rgba(0, 255, 128, 0.16);
		}
		
		
	</style>

	<ion-content class="">
		<div class="list">
  			<li class="item item-toggle">
     Display all includes used rewards
     <label class="toggle toggle-royal">
       <input type="checkbox" ng-model="showUsed" >
       <div class="track">
         <div class="handle"></div>
       </div>
     </label>
  </li>
		</div>
		
		<div class="reward-card" ng-repeat="code in allReward"   ng-show="showUsed || (!showUsed && !code.used)  ">
			<img class="reward_img" src="" ng-src="{{imgByName(code.img)}}">
			
			<div class="reward-content" ng-show="!code.mystery">
			<div class="reward-title">{{code.description}}</div>
			
			<div class="time">Time:{{convertTime(code.generateTime)}} </div>
				
				<div class="rest" ui-sref="app.patron_menu({ restaurantId:code.owner})">Restaurant</div>
				<div class="use" ng-click="openQRcode(code)">Use</div>
			</div>
			
			<div class="reward-content best-center" ng-show="code.mystery">
				<div class="reveal" ng-click="reveal(code.code)"> click to reveal your mystery reward </div>
			</div>
			
			
			
		</div>
	</ion-content>
</ion-view>